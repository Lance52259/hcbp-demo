# API网关（APIG）最佳实践

## 产品介绍

API网关（API Gateway）是为企业和开发者提供的高性能、高可用、高安全的云原生网关服务。它能快速将企业服务能力包装成标准API接口，帮助您轻松构建、管理和部署任意规模的API，并支持API上架云商店进行售卖。借助API网关，您可以简单、快速、低成本、低风险地实现内部系统集成和业务能力开放。

### 主要特性

- **API生命周期管理**：提供API的创建、发布、下线和删除的完整生命周期管理功能
- **云原生网关**：支持k8s Ingress和Gateway API功能，简化架构，降低部署和运维成本
- **便捷调试工具**：提供页面调试工具，支持添加HTTP头部参数与body体参数进行API调试
- **版本管理**：支持API的多环境发布、版本历史查看和回滚
- **环境变量**：支持在不同环境中调用不同的后端服务
- **精细流量控制**：支持多维度的流量控制和精细化配置
- **监控告警**：提供实时、可视化的API监控
- **安全防护**：支持多种安全认证和防护机制

## 最佳实践目录

### 认证授权类

1. [使用FunctionGraph实现APIG自定义认证](./auth/function_authorizer.md)
   - 通过函数计算实现自定义的API认证逻辑
   - 支持灵活的认证策略和授权控制
   - 可与已有认证系统无缝集成

## 使用场景

1. **API提供者**
   - 将成熟的业务能力作为后端服务开放API
   - 通过线下方式提供给API调用者使用
   - 发布到API云商店实现业务能力变现

2. **API调用者**
   - 获取并调用API提供者开放的API
   - 减少开发时间与成本
   - 快速集成所需的业务能力

## 产品优势

1. **高性能**
   - 支持HTTP/2.0协议
   - 二进制格式传输
   - 多路复用能力
   - Header压缩

2. **高可用**
   - 提供断路器机制
   - 支持服务降级
   - 负载均衡能力

3. **高安全**
   - 多种认证方式（AKSK、Token等）
   - 访问控制策略
   - TLS1.2防护
   - mTLS双向认证

4. **易管理**
   - 完整的生命周期管理
   - 便捷的调试工具
   - 可视化的监控面板
   - 灵活的版本管理

## 参考文档

- [API网关产品文档](https://support.huaweicloud.com/productdesc-apig/apig_0080101651.html)
- [API网关最佳实践](https://support.huaweicloud.com/bestpractice-apig/apig-bp-200706001.html)
